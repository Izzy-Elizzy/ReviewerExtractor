DraftversionOctober232024TypesetusingLATEXdefaultstyleinAASTeX631ReinforcementLearningforDataDrivenWorkflowsinRadioInterferometryIPrincipalDemonstrationinCalibrationBrianMKirk123UrvashiRau2andRamyaaRamyaa1RadiointerferometryisanobservationaltechniqueusedtostudyastrophysicalphenomenaDatagatheredbyaninterferometerrequiressubstantialprocessingbeforeastronomerscanextractthescientificinformationfromitDataprocessingconsistsofasequenceofcalibrationandanalysisprocedureswherechoicesmustbemadeaboutthesequenceofproceduresaswellasthespecificconfigurationoftheprocedureitselfThesechoicesaretypicallybasedonacombinationofmeasurabledatacharacteristicsanunderstandingoftheinstrumentitselfanappreciationofthetradeoffsbetweencomputecostandaccuracyandalearnedunderstandingofwhatisconsideredbestpracticeAmetricofabsolutecorrectnessisnotalwaysavailableandvalidityisoftensubjecttohumanjudgmentTheunderlyingprinciplesandsoftwareconfigurationstodiscernareasonableworkflowforagivendatasetisthesubjectoftrainingworkshopsforstudentsandscientistsOurgoalistouseobjectivemetricsthatquantifybestpracticeandnumericallymapoutthedecisionspacewithrespecttoourmetricsWiththeseobjectivemetricswedemonstrateanautomateddatadrivendecisionsystemthatiscapableofsequencingtheoptimalactionforprocessinginterferometricdataThispaperintroducesasimplifieddescriptionoftheprinciplesbehindinterferometryandtheproceduresrequiredfordataprocessingWehighlighttheissueswithcurrentautomationapproachesandproposeourideasforsolvingthesebottlenecksAprototypeisdemonstratedandtheresultsarediscussedKeywordsComputationalMethodsComputationalAstronomyInterdisciplinaryastronomyRadioAstronomyRadioastronomyisthestudyofastronomicalobjectsatradiofrequenciesandthephysicalprocessesgeneratingthatemissionAradiointerferometerusesacollectionofantennastomeasuretheFourierspaceoftheemissiondistributionacrosstheskyThefundamentalobservationofeverypairofradioantennasisameasurementofthespatialcoherenceoftheelectromagneticfieldattheirrespectivelocationsSignalsfrombothantennasineachpairarecombinedtoformavisibilitywhichisa2DFouriercomponentoftheskysbrightnessdistributionByaccumulatingmanydifferentFouriercomponentsthroughacollectionofantennaswithdifferentorientationsandseparationstheFourierspacerepresentationoftheskycanbeobservedTheFouriertransformmaythenbeappliedtogiveastronomersthespatialdistributionoftheemissionintensityintheskyieanimageHoweveraninfinitenumberofFouriercomponentsareneededtogetaperfectrepresentationoftheskyRadiointerferometershaveafinitenumberofantennasandthereforecanonlymeasureafinitenumberofFouriercomponentsThemissinginformationintroducesambiguityintotheresultingimagesTheprocessofimagereconstructionisaninversemodelfittingprocesssubjecttobiasesintroducedbythealgorithmsandoptimizationstrategiesAdditionallybeforeimagingthecalibrationofeachantennaisvitallyimportantTheeffectoftheantennaandreceiversystemmustberemovedfromthemeasuredFouriercomponentsbeforeimagereconstructionisattemptedDatathatarecorruptedbyradiofrequencyinterferenceorothererrorsmustalsobeidentifiedandremovedaspartofthedataprocessingThereareamultitudeofdifferentwaysonecanprocessthedataforexampleusingdifferentcalibrationstrategieschoicesbetweenoutlierdetectionarXiv241017135v122Oct2024methodsandselectingdifferentimagingalgorithmsfortheinversemodelingChoicesofwhattodoareoftenbasedonimperfectinformationandanastronomersbestjudgmentandthiscanleadtoprocessingtheinformationinmultiplewaysthatmaybeconsideredequallyvalidThemainstagesofdataprocessingconsistofflaggingerroneousdatacalibratingtheinstrumenthardwareandreconstructingtheimagethroughdeconvolutionThesestagesmayberepeatedanynumberoftimesandindifferentsequencesforanygivendatasetIntheflaggingstagedataareidentifiedtobeeliminatedorignoredfromsubsequentprocessingThiscanbeduetocorruptionbyradiofrequencyinterferenceorotherrelatederrorsthatcanleadtooutliersTherearedifferentcustomizablealgorithmssuitedtoidentifyingdifferenttypesofRFIDependingonthesituationdataflaggingcanbeperformedmultipletimesontherawdatabeforecalibrationintermediatecalibrationproductsandorthefinalcalibrateddataAlternativelytheoutlierdetectionandflaggingstageisnotalwaysnecessaryanddependsonthepresenceorabsenceofRFIInthecalibrationstageobservationsfromaknownreferencesourceareusedtoderiveinstrumentalantennagainsinstrumentaleffectfromthedataCorrectionsfordirectiondependentcalibrationtermsaretypicallyexpressedasnonlinearmatrixequationsandcanbesolvedwithnonlinearleastsquaresapproachesinmostcasesTheaccuracyofthesecorrectionsdependsonthesignaltonoiseratiooftheobservedcalibratordatapresentedtothesolverWithobservationsrecordingdataacrossmultipletimestepsandacrossarangeoffrequenciesthetimeandfrequencydatamaybeaveragedtoincreaseSNRforamorerobustcorrectionHoweverexcessiveaveragingintimeorfrequencycanmisrepresenttheveryantennagaindistortionsthatrequiremodelingandcorrectionThereforeacarefuldatadependentchoiceisrequiredintheamountofaveragingthatisappliedtomaximizeSNRforthesolverbutwithoutdestroyingthegaindistortionsthemselvesAdditionallycalibrationoperationsmaybeiterativetomodelandremovedifferentinstrumentaleffectsalongthesignalacquisitionchainFinallytheimagereconstructionstageisaniterativemodelfittingprocessTransformsbetweentheFouriercomponentsandtheimagedomainareinterleavedwithskymodelingstepsinagradientdescentapproachforchisquareminimizationTherearemultiplereconstructionalgorithmsonecanchoosefrominthisstageTypicallyalgorithmselectiondependsonthetypeofimagebeingmadeandthetypeofstructurebeingreconstructedThesealgorithmsdifferinimagereconstructionqualitycomputationalruntimeandnumericalconvergenceefficiencyItisasubjectiveprocesstochoosethealgorithmsandtheoptimalparametersthatwillgivethebestpossibleimageforagivendatasetThechoicesmadethroughoutallofthestagesiscommonlyreferredtoasarecipeAnysingleendtoenddataprocessingrecipemaybethoughtofasonepossiblepathoutofallpossibleconfigurationsForendtoendprocessingthereisapredictablesequenceofstageswhereeachstagemaycontainseveralproceduresdependingonthecharacteristicsofthedataIfcertaindataconditionsexistsomeproceduresorentirestagesmayberevisitedassubsequentproceduresthusformingprocessingloopsThefullconfigurationspaceoftheavailablesoftwaretoolsisquitevastleadingtomanypossibleprocessingpathsTheunderstandingneededtocreatearecipetoprocessthedataisthesubjectoftrainingworkshopswherestudentsandscientistsaretaughttheprinciplesofeachstagehowtodecideandconfigurethemultipleprocedureswithinastageandhowtosequencethestagestopreparedataforscientificanalysisItisthisdecisionspacethatwearegroundingonanumericalbasistoenableautomateddatadrivenprocessingThisworkwasinspiredbythefieldofReinforcementLearningandspecificallyAlphaGoInthispaperwedemonstrateonaconstrainedscenariowhileonlyconsideringthecalibrationandRFIflaggingstageswhereourobjectiveistoremoveanyeffectonthevisibilitydatabyantennagainsandoutliersThisistovalidatewhetherRLmethodsingeneralaresuitableforourdomainandwebeginthisvalidationwiththesimplestRLmethodQlearningThisvalidationisfundamentalbeforemovingontomoresophisticatedRLmethodswhicharederivedfromQlearningQlearningisaReinforcementLearningmethodthatlearnstheoptimalactionvaluefunctionfromexperienceByrepeatedlysamplingaQtablesstatesdifferentactionsandactionvaluesforavarietyoftransitionstheactionvalueforagivenstateactionpairisupdatedbasedonthedownstreameffectithasonthefinalresultThisisawayforthecombinedeffectsofactionsthatleadtogoodoutcomestobereflectedintheindividualactionsthatledtoDataEditingFigure1HighlightingthepossibilityofloopsinprocessingstepsratherthanalinearflowthatoutcomeByiterativelyupdatingtheactionvaluesthepositivenumericalfeedbackcanbeusedtosteerdecisionstowardsthedesiredoutcomeThisisahallmarkofReinforcementLearningCurrentautomatedapproachesarelittlemorethanhardcodingafewofthemostusednonloopingrecipesforprocessingwithasmallsetofheuristicsbaseddecisionpointsInthefieldthesehardcodedrecipesarecalledPipelinesaredesignedforthegeneralusecaseratherthanforbeingspecificApipelineincludesallprocessingstepsandparametersettingstheaveragedatasetwouldneedregardlessofaparticulardatasetsneedsForexampleadatasetwithlittletonoRFImaynotneedanyflaggingatallSuchhardcodedrecipesareinflexibletodifferentcharacteristicsofanobservationwhichmaywarrantdifferentprocessingactionsorparametertuningThepipelinesVLASRDPIDIAHiFASTuGMRTsCAPTUREArtipetcaredesignedtoberobustfordatasetsthatfallwithinanarrowrangeofdatacharacteristicsandobservationmodesForexampletheALMApipelineisdesignedtoaddressaspecificrangeofusecasesandprocesses95ofqualifyingdatasetsthroughthepipelinewiththeremaining5processedmanuallyOutofthequalifying95thatgothroughthepipelineaboutathirdofdatasetstypicallyrequirehumaninterventiontoimprovetheendresultTheVLAproducesamorediversesetofinputdatasetsallofwhicharepassedthroughitsstandardpipelineandinspectedmanuallyOutoftheseaquarterarereprocessedbyhumansadjustingthepipelinescriptsandtherestarehandedtotheenduserasistoreprocessthemselvesifneededFinallybothinstrumentshavebeguntoofferareprocessingservicewhereenduserscanrequestfurtheradjustmentsinadditiontowhatwasdeliveredtothemimplyingthatthereisoftenaneedforfurthercustomizationperdatasetInshorttheonesizefitsallprocessingviapipelinesleavesmuchroomforimprovementThisisindicatedbypipelineshavingyettoachieveoutputsthatrequirenofurtherhumaninterventiontocustomizeprocessingbeforebeingusedforastrophysicalresearchAsimilarproblemisfacedinastronomyatotherwavelengthsFailingtoachievetruesciencereadyautomatedprocessingwhilethatisanissueinitselfcausesanadditionalpenaltyapipelinesresultsmayneedtobereviewedandreprocessedbyaobservatorystaffForexampleatNRAOrunfacilitiestrainedanalystsareusedtoreviewthepipelineresultsTheyinspecttheresultsforerrorsidentifyoptimizationsthatcanbemadeinindividualstepsorentiresequencesandrepeatdataprocessingafterthepipelinehasalreadyprocessedthedataThisisbecausethepipelineresultsmaynotmeetqualitythresholdsThisreprocessingincreasesoperatingcostsFurthermoreevenafterreprocessingisdonebyatrainedanalystadditionalenhancementmaystillbedonebytheenduserWhileonecanestimatesomeaspectsofanobservationwedonotknowforcertainthesignaldistributionobservingconditionsantennaperformanceRFIcontaminationsourcespresentandsoonwhichallalterhowthedatashouldbeoptimallyprocessedThereforewhatisneededisanautomatedsystemsensitivetothecontentsoftheobservationthatcandecidewhatthebestprocessingstepshouldbeInthispaperweexploreReinforcementLearningmethodsasadatadrivenapproachtoautomationthatcanpotentiallyhandleobservationscontainingawidevarietyofcharacteristicsanddynamicallydeterminewhatthebestcourseofactionisWeproposethiscanbedonebymeasuringtheperformanceofanactioninagivensituationBysettinganobjectiveandmeasuringtheeffectsaparticularactionhasonawiderangeofdatasetsafunctionisdiscoveredforhowwellthatactionperformsgiventhestateofthedataThiscanbethoughtofasaprocessingactionsreturnoninvestmentfunctionoractionvalueBydiscoveringthisfunctionforeachofthedifferentactionsacrossalargerangeofdatasetsfunctionfoundthebasisisprovidedtoevaluateaseriesofactionswhichisarecipeorworkflowWithindividualactionvaluefunctionsestablishedwecantheninvestigatehowdifferentsequencesofactionswillaffectagivendatasetBygaininganunderstandingofwhenorwhennottoapplyanactionresultsinaflexiblesystemthatcanchoosetheidealprocessingstepbasedonthedataratherthanfollowingahardcodedpipelineAnotherbenefitofReinforcementLearningisthatevaluatingactionsandestimatingactionvaluefunctionscanbeautomatedAsmoredatabecomesavailabletheseactionvaluefunctionsandprocessingworkflowscanberefinedwhichultimatelyshapethedecisionprocessThissameconceptofiterativeimprovementiscurrentlyusedbydevelopmentteamsbutonamuchslowertimescaleForexampletheNRAOpipelineshavetakenWespeculatethataflexibledatadrivenapproachsuchasRLmayprovideawaytogetsciencereadydataproductsandlargescaleautomationThefollowingsectionintroducesafundamentaldemonstrationwithaparticulardecisioninthecalibrationstageroutinelyusedinprocessingWeillustrateawaytofindtheoptimalprocessingactionbasedonthedataitselfratherthanfollowinghardcodeddirectionsThisisextendedtofindingtheoptimalprocessingworkflowforthesequenceofmultipleactionsThescopeofourproofofconceptdemonstrationislimitedtoahighlysimplifiedanalysisscenariodesignedtoallowunambiguousverificationofouralgorithmswhilealsoapplyingallthecoremachinelearningconceptswewillneedforamorecomplexdataanalysissequenceOtherworkinvolvingReinforcementLearningandRadioastronomycalibrationisdoneinHeretheauthorsareusingdifferentreinforcementlearningmethodstodeterminearegularizationhyperparameterwhichcontrolsthesmoothnessoftheircorrectionmodelsforcalibrationIntheirapplicationtheagentisprovidedwithtimeseriesdatatolearnfromandmakerecommendationsforregularizationfactorfortheremainingtimeseriesofdataInadditiontousingdifferentreinforcementlearningmethodsthemostnoticeabledifferenceisuseReinforcementLearningtolearnahyperparameterthatisgiventoapipelineIncontrastourworkisfocusedonassemblingtheidealpipelineforanygivendatasetnottuningparametersthataregiventoapipelineInthatregardsworkisclosertoourareaofresearchInthispapertheauthorsproposeadataprocessingsystemthatassemblesprocessingtasksintoworkflowsfordifferentusecasesbasedonpreexistingflowchartsdefinedbyscientistsAnenduseronlyneedstoselecttheusecaseandtheEDPSsystemnavigatestheflowcharttoassembletheseriesoftasksneededtoprocessthedataintoaworkflowIncontrastourresearchisfocusedondiscoveringthedecisiontreefromwhichflowchartscanbecreatedConceptuallytheoutputofoursystemcouldfollowtoassembleaworkflowinrealtimeAninterestingconnectionforpotentialfutureresearchwouldbetomodelouroutputinaformthatmaybemoredirectlyusablebysuchsystemsOtherinstancesofReinforcementLearningandQlearningappliedtoastronomyincludetelescopeschedulingforobservationsForourstudyweusesimulateddatasowemaycontrolanemittingsourcesspatialstructureaswellasthepropertiesofthecorruptinggainsignalThisallowsustoconstrainthecomplexityoftheproblemtoasimplerregimewhichrequiresaverylimitedsetofcalibrationandimagingoptionsForsimulateddatathehierarchyoforganizationisasfollowsthefundamentaldatacomponentisthevisibilityamplitudewhichistheamplitudeoftheinterferencefunctionrepresentingagivenspatialfrequencyInatypicalobservationmanythousandsofvisibilityamplitudesaremeasuredfromthemanybaselinesbetweenantennasaswellasacrossfrequencychannelsandtimeInpracticethisconglomerateofvisibilityamplitudesiscalledasaMeasurementSetbutforourpurposeswewillrefertothegenericnameofdatasetaswehavesimulatedthesequantitiesWehavecreatedthousandsofthesedatasetswhichmakesupapopulationandwehavecreatedtwopopulationsofdatasetsonepopulationcontainingRFIcontaminationandonewithoutThereasonsformakingthesepopulationswillbecomeclearinthelatersectionsAttheindividualdatasetlevelwesimulatedthevisibilitydatabymimickingtheVLADconfigurationarrayoftheobservingsetuptohave100frequencychannelsand100timeintegrationsTheartificialskythatwasbeingflatspectrumFromthisstartingsetofvisibilitiesweintroducedsinusoidalsignalstorepresentdirectionindependentantennagaindistortionsthatwouldneedtobecorrectedforbycalibrationThefirstpopulationofsimulationsconsistsofdatasetswithgaindistortionsthatvaryinmeanvalueamplitudeandperiodforbothfrequencyandtimedimensionsAntennatoantennaoffsetswerealsoappliedtobemorerealisticThenoiselevelwaskeptconstantacrossthepopulationForthesecondpopulationweincludedRFIcontaminationinadditiontogainvariationsWechosetoincludeaspecifictypeofRFIbroadantennabasedRFIbecausethistypeofRFIcontaminationwilldistortthecalibrationcorrectionsifitsnotremovedbeforecalibrationproceduretakesplaceTobeconsideredbroadtheRFIcontaminationcoversmultipletimeintegrationsandfrequencychannelswithveryhighamplitudesForeachsimulationinthispopulationthenumberofRFIcontaminantstheamplitudeofeachcontaminantandlocationinthetimeandfrequencyvariedFigure2Visibilityamplitudesplottedin3DforonebaselineOtherbaselinesinthedatasetaresimilarinshapebutvaryinintensityaccordingtotheantennatoantennavariationsXYaxesformthetimefrequencyplanewithvisibilityamplitudeonthezaxisLeftAsimulationwithoutanygaindistortionswhichisaflattimefrequencyplanewithnoiseCenterVisibilitiescontainingalargegaindistortionthatvariesalongthetimeaxisthatwouldrequirecalibrationcorrectionsforeachtimestepThissimulationwouldbenefitfromaveragingalongfrequencypriortocalibrationRightAsimulationdominatedbyanRFIoutlierthatwouldneedtoberemovedbeforeestimatinganypotentialunderlyinggaindistortionsFigure2showssomeexampledatasetvisibilityamplitudesForeachplotthezaxisisvisibilityamplitudeandthexandyaxescorrespondtothefrequencyandtimedimensionsAperfectinstrumentignoringnoiseandatmosphericeffectsobservingaflatspectrumpointsourceatthephasecenterwouldbeaconstantplaneintimeandfrequencyatthemeanvisibilityamplitudeInourcasethiswouldbe1forthe1JysourcesimulatedAnydistortionsfromantennagainsoroutlierswillresultinsomedistortedshapeintheplaneTodemonstratethisapplicationwefocusonaspecificdecisioninthecalibrationstagenamelythechoicefortheamountofaveragingtoapplybeforeremovaloftheantennagainsintroducedbytheinstrumentThepurposeofcalibrationistoestimatethegaindistortionsandremovethemleavingthetimefrequencyplaneeffectivelyflatmeaningthevisibilitiesmeasurementsareunaffectedbytheinstrumentTomakeadatadrivendecisionwefirstneedtodefinethecontextformakingadecisionWestartbydecidingwhatpropertiesofthedatasetareneededtoadequatelydescribethestateofthedatawhatactionsareavailabletochoosefromandbydefiningtheobjectiveTheobjectiveisusedtoformametrictosteerdecisionsFordescribingthestateofthedatasetweusefourstatisticalpropertiesmeasuredacrossallbaselinesreferredtoasthestatevectorindicatorofaneedforcalibrationInthispaperwealsorefertothisquantityasmeangainbecauseoursimulationsusea1JypointsourceWeidentifiedthefourquantitieslistedaboveastheminimumrequiredforthecontrolledenvironmentofourexperimentOurskystructureisasinglepointsourceatthephasecenterwithallbaselinesmeasuringthesamevalueandalldeviationsfromaflatvisibilityfunctionaredueonlytoantennagaineffectsForourlimitedsetofactionsweonlyneedtodistinguishbetweentimeversusfrequencyvariabilityinthedatameanvisibilityamplitudeandtheexistenceofoutliersthatmayrequireflaggingThestandarddeviationvaluesindicateiftherearepreferentialaxesalongwhichSNRmaybeimprovedbyaveragingThepresenceofoutlierswouldalsobecapturedinthemeanvaluestandarddeviationandmaxvalueForexamplethestatevectorforFig2LeftisForFig2CenteritisandforFig2RightitisThissimplificationallowsustocarefullyvalidateourapproachandunambiguouslyinterpretourresultsInsubsequentworkwhenweincludesourcestructurewewillneedmorerefinedmetricstodistinguishgenuinebaselinetobaselinevariationsfromantennagaineffectsInarealdataenvironmentwheretheremaybemoreeffectstoaccountforthedimensionalityofthestatevectorwillundoubtedlyincreasepossiblytoincludeimagestatisticsaswellTheactionsrepresentthepossiblechoicesonecanmakeinadecisionWeselectedactionsthatarerelevantforthedecisionscenarioathandwhicharetypicaltowhatanenduserwouldchoosefromTheactionswemadeavailabletochoosefromarethefollowingacrossfrequencybuthasvariationinthetimeaxisAveragingthefrequencyaxisincreasesSNRforthemorevariabletimeaxiswhichcanimprovethecalibrationcorrectionsThecalibrationruntimeisreducedbyaveragingoneoftheaxestimebuthasvariationinthefrequencyaxisAveragingthetimeaxisincreasesSNRforthemorevariablefrequencyaxiswhichimprovesthecalibrationcorrectionsThecalibrationruntimeisreducedbyaveragingoneoftheaxeshasminimalvariationinbothtimeandfrequencyandaveragingbothaxeswouldhavenegligibleimpactoncalibrationqualityThecalibrationruntimeisfurtherreducedfromaveragingbothaxesThisisbestsuitedwhenadatasethasvariationinbothtimeandfrequencyNoaveragingisappliedasanyaveragingwouldresultinpoorapproximationsandthereforepoorcalibrationcorrectionsThisisthemostcomputeintensiveasthedatasizeisnotreducedfromaveragingremovesoutlierdatabasedonslidingwindowmeasurementsThistakesastaticruntimeTheactionsdescribedhereapplytoallbaselinesinthegivendatasetnotasinglebaselineTheactionsdescribedhereareimplementedusingtheCASAsoftwareTheCASAsoftwareallowsforonetocalculatethecorrectionswithouthavingtoapplythemunlessexplicitlydirectedwithanotherfunctionForconveniencewehavecombinedthecreationandapplicationofcorrectionsherewithActions14OurobjectiveistoremoveanyeffectonthevisibilitydatafromtheantennagainsandoutliersHowwemeasureanyunwantedcontaminantsisbylookingatthedistributionofresidualsaftermodelreconstructionoftheimageTheidealresidualsintheimagedomainareanoiselikeGaussiandistributionatthetheoreticalnoiselevelThisformspartofthemetricweusetomeasurehowgoodanactionisOurmetricisbasedontwofactorsIncompleteorimproperlyestimatedcalibrationcorrectionsandunflaggedoutlierscanchangeraisetheresidualsabovewhatistheoreticallypossibleassociatedwithactionssomethingahumanintuitivelydoesbutisnotquantifiedincurrentpipelineheuristicsThedistributionofimagedomainresidualsisusedtoevaluatethequalityofactionsthatwereappliedTocomparethetwodistributionsaSavitzkyGolayfilterisappliedtoafinelybinnedhistogramofthepixelamplitudesintheresidualimageaswellastheknowntheoreticaldistributionThisfilteringresultsinasmoothedhistogramthatislesssensitivetonoiseandrepresentsthedistributionshapeThesmoothedvaluesateachbinarecomparedbetweenthetwodistributionsandaWassersteinmetricorEarthMoversDistanceiscalculatedThismetricissensitivetodistributionshapeanditsdistancefromidealItrespondswelltothepresenceofimagingartifactsandothererrorpatternsaswellasdifferencesinGaussianrandomnoiselevelsItisalsoagnosticofthesourcestructureForthesereasonswechosethismetricovertypicallyusedmetricsofstandarddeviationoftheresidualsorimagefidelityFigure4showsanexampleofasimulationwitheachoftheactionsappliedandtheirrespectiveresultsFigure3FigureAnexamplecomparisonbetweentheoreticalnoisedistributionandamodelsresidualsdistributionwhilethesolidmagentaandgreenlinesrepresentthedistributionsaftertheSavitzkyGolayfilterisappliedThebluehighlightsthedifferencebetweenthesmootheddistributionsfromwhichtheEMDiscalculatedindicatingcorrectnessTheverticaldashedlineindicateswherethe0pointistheoreticalnoiseiscenteredaround0TheruntimeofthecalibrationstepisestimatedasbeingproportionaltothenumberofelementspresentedtothecalibrationsolverwhereanelementisadistincttimefrequencyportionThecalibrationsolverperformsanonlinearleastsquarescalculationoneachelementThetimeittakestocomputecorrectionschangesbasedontheamountofaveragingappliedtotheinputdataasthatchangesthenumberofelementspresentedtothecalibrationsolverNotethatwhileaveragingmaybeusedontheinputdataforthesolveritdoesnotchangetheoriginaltimefrequencyplaneIfthedataareaveragedtheshapeischangedfortheinputdatatothecalibrationsolverbuttheresultingcorrectionsareappliedtoeachelementintheoriginaltimefrequencyplaneForexamplethe100channelsand100integrationsisa10000elementtimefrequencyplaneIfwechoosetoaverageoneaxisthedatashapechangesforwhatisgiventothesolverbutthecorrectionsareappliedtotheoriginal10000elementplaneWeusearuntimeapproximationbasedonthetimeittakestocompleteaseriesofadditionsversuscompletinganiterativenonlinearsolverforanarbitrarysizeFromthatweassumenonlinearsolvingisapproximately80xslowerthanaveragingdataTheruntimeiscalculatedasThereforebasedonthesizeofourdatasetsandtheapproximationusedtheruntimecostofeachactionisasfollowsThesevaluesareintentionallyhypotheticaltoexaggeratetheruntimedifferencesbetweenactionstotesthowourproposedsolutionwouldtakethesevaluesintoaccountTheEMDandruntimevaluesforanactionaresummedtogiveasinglenumericalmeasureofperformancetorepresenthowgoodthatactionwastotakeonthegivendatasetThissummedvalueistheactionvalueWecanevaluateeachindividualactionthiswayonagivendatasetThelongertheruntimeisthehighertheruntimepenaltyandthehighertheEMDvalueisthehighertheimagequalitypenaltywhichcombinetoformahighactionvalueThereforeinourscenariotheactionwiththelowestactionvalueisconsideredtheoptimalactionWiththeEMDvaluetypicallybeingmuchsmallerthantheruntimevaluetherawruntimevaluedominatestheresultandthereforeweneedawaytoequalizethescalesofthetwovaluesInourimplementationascalarof1e6isappliedtotherawEMDvalueforcomparativescalingIngeneralthisscalarprovidesaconvenientwaytogivepreferencetoonefactorovertheothersuchasprioritizingruntimeoverimagequalityintheactionvaluestatisticWiththedatasetssimulatedandthedecisionenvironmentdefinedwecannowevaluatehowdifferentactionsperformonagivendatasetInthecaseofasingledecisionweselecttheoptimalactionbasedonhowwelltheactionperformstowardsthedesiredobjectiveasmeasuredbyourmetricFigure4showsanexampledatasetthatcontainsgaindistortionsalongthetimeaxisofthelefthandsideThisisanexamplewherethereissufficientsignaltonoisetoperformaccuratecalibrationoneachtimeandfrequencysamplebutweexpectthataveragingalongfrequencybeforecalibrationwillprovidesimilarlygoodnumericalaccuracyatamuchlowerruntimecostEachactionisindependentlyappliedtothisdatasetandevaluatedFromthisdiagramitiseasytoseetherearetwoactionsrow1and4thatgiveusthedesiredresultofremovingthegaindistortionfromthetimefrequencyplaneTheincorrectactionsinthisscenariorows235and6resultinmuchworseresidualRMSlevelsatanaverageof3e2JybeamwithstructurestillpresentintheresidualimageRow1and4correspondtoActions1andresidualsvaluesbetweenthesetwoactionsaresimilarwithRMSlevelsat1e5JybeamandwouldresultinatieifonlyconsideringimagingperformanceHoweverAction4takes44xlongertofinishthanAction1ThisdemonstrateswhyweconsiderruntimeinouractionvaluemetricWithouractionvaluemetrictakingintoaccountruntimeandimagequalityAction1istheclearchoiceWhileFig4isoneexamplewithasmallnumberofactionsandafinitenumberofsimulateddatasetsitisfeasibletomaintainatablethatcontainstheactionvalueforeachstateactionpairThistableformsthebasisfortabularmethodsinReinforcementLearningTabularmethodsaresimpleyetfoundationaltounderstandingthemoreadvancedReinforcementLearningmethodsWeusethetableofknownvaluesaQtableasabasisforQlearningaReinforcementLearningmethodthatlearnstheoptimalactiontotakeinagivenstateQlearningisnecessaryforlearningnongreedybehaviorespeciallyifanactionseffectsonlymanifestlaterinthedecisionchainWeintentionallycreatedapopulationofsimulationscontaminatedwithRFItotestsolvingfortheoptimalsequenceofactionsRFIintroducesasequencingproblemofnotonlyifbutwhentoflagdatainrelationtootheractionsWewanttotestwhetherthecorrectsequenceofactionscanbefoundtogettotheglobalminimumActionAvgFreqActionAvgTimeActionAvgBothActionDoNothingActionFlagOutliersActionAvgNoneStartingSimulationTimeFreqPlaneResultingTimeFreqResultingResidualImageResultingResidualsFigure4LeftmostPlottedvisibilitiesofasimulateddatasetcontaininggaindistortionsBranchingfromthatsimulationiseachpossibleactionandtheresultseachactionhasonthedataEachrowofimagesassociatedwitheachactionaretheresultingtimefrequencyplanetheimageresidualsandtheresidualsdistributioncomparedtothetheoreticalnoisedistributionColorscalesandXYaxesvaluesaresynchronizedonallplotstomakerelativevisualcomparisoneasyImageresidualsthatlooknoiselikeandresidualdistributionsthatlookGaussianindicatebetternumericaloutcomessuchasrow1and4Rows1and4haveRMSlevelsof1e5Jybeamwhereasrows235and6haveanaverageof3e2JybeamThissectionwillcoverthevalidationofourdecisionenvironmentandhowwellQlearningwasabletofindtheoptimalsequenceofactionsPopulation1datasetswereusedtoevaluatehowwellourselectedinputfeaturesandactionvaluemetricwereatcapturingwhatadomainexpertwoulddofacedwithsamedecisionThisvalidationallowedustousethesameenvironmentsetupinmorecomplicatedscenariosforQlearningPopulation2datasetsrequiredsolvingasequenceofactionswewillreviewtheperformanceoftheQlearningatfindingtheoptimalsequenceofactionsbasedondatacharacteristicsthemselvesTohelpconveyidealactionsacrossanentirepopulationofdatasetsweconstructavisualaidintheformofasimulationsThestatespaceallowsustoplotentirepopulationsofdatasetsandviewtheirdifferentpropertiesalongwiththeidealactionstotakeonthemandthesubsequentactionregionsthatareformedFigure5isanexampleofa3DstatespacewithdifferentfrequencyvariationstimevariationsandmeangainsBycolorizingtheplottedsimulationswiththeirbestperformingactionwecanseewhichactionsoccupydifferentregionsofstatespacePopulation1wasdesignedthateachdatasetonlyneeded1actionappliedtobringitintoanidealstatepopulationcontainsseveralthousanddatasetseachdifferinginfrequencyvariationtimevariationmeangainandconsequentlymaxvalueForeachdataseteveryactionwasindependentlyappliedtodetermineitsactionvalueFigureFigure53DstatespacewiththousandsofsimulationscolorizedbybesttheperformingactionStatespaceaxesarefrequencyvariationtimevariationandmeangainTheindividualpointsaresimulationswiththosestatisticalpropertiesThepointsarecolorizedbythebestperformingactionasdeterminedbyourmetricWecanseeregionsinthestatespacethatcorrespondtoidealactionsFlagactionwillcomelaterFigure5showsthereareclearanddistinctregionswithinthespaceForexampleconsiderallthebluepointsthesesimulationshavealowgaindistortionalongthetimeaxisbutahighenoughmeangaintorequirecalibrationTheoptimalchoicethereistocalibrateafteraveragingintimeConverselytheredpointshavelowgaindistortionalongthefrequencyaxisbutahighenoughmeantorequirecalibrationTheoptimalchoicethereistocalibrateafteraveraginginfrequencyThepurplepointsindicatethesesimulationscanhavebothaxesaveragedbeforecalibrationwithoutdegradingcalibrationcorrectionsOntheotherhandorangepointsindicatesimulationsthatshouldnothaveanyaveragingappliedbeforecalibrationAnygreendotsrepresentsimulationsthatdontrequirecalibrationandwouldresideatthe0pointofall3axesThiswouldrepresentwhenthereislittletonovariationandthemeangainisclosetotheexpectedvalueDatasetswithsimilarstatisticalpropertiesarefoundtohavethesameoptimalactionneededtorectifythemcreatingthecoloredregionsinFigure5ThisisthemostbasicvalidationoftheinputfeaturesmetricsandobjectivefunctioninoursimplifiedenvironmentTheregionsassociatedwithaparticularactionmatchwhatadomainexpertwoulddointhesamescenariovalidatingourenvironmentandmetricThisgaveusconfidencetobuildmorecomplexdecisionscenariosrequiringmultipleactionstobetestedwiththesameenvironmentsetupWecreatedPopulation2datasetsbyaddingstrongoutlierstotheexistingdatasetsinPopulation1TheseoutlierssimulatebroadbandantennabasedRFIcorruptionsinanobservationWiththeseoutlierswenowhavesimulationsthatwarranttheflaggingactionHoweverbecausethesecorruptionsareplacedontopoftheexistinggainpatternsboththeRFIandgainpatternsneedtobecorrectedforImportantlythistypeofRFIwilldistortthecalibrationsolutionsiftheyarenotremovedbeforecalibrationtakesplaceThisintroducesanewproblemtosolvewhichisfindingtheoptimalactionsequenceForasimulationthathasgaindistortionsandRFIatthelevelswehavechosentoaddagreedyalgorithmwillopttodogaincorrectionsfirstsincethathasanimmediatestrongereffectonimageresidualsthanflaggingRFIThisisbecausethegaindistortionsaffectmoreofthetimefrequencyelementsthansparseRFIcontributingmoreweighttothestatisticalpropertiesofthedatasetHoweverRFIdistortsthegaincorrectionsresultinginasuboptimalcalibrationThismakesthesequenceofactionscriticalwithFlaggingneedingtoberunbeforegaincorrectionsAgreedyalgorithmwillnotselecttheidealsequenceofactionsandwillnotreachtheglobalminimumAsdescribedearlierQlearningisawaytolearnanongreedyapproachforsequencingactionsQlearningiterativelyupdatestheactionvalueinagivenstateactionpairasnewcombinationsofstatesandactionsareexploredInourscenarioforPopulation2therearetwodecisionstobemadewithsixactionspossibleforeachsteptotalling36possiblepermutationsofactionsForexamplestep1couldbeFlagandstep2couldbeAvgFreqandcalibrateAsdifferentpathwaysareexploredtheactionvaluesforanysingleactionisupdatedbasedonfinaloutcomeknownasthetotalrewardThetotalrewardisavaluecomposedofthecumulativeruntimeofallactionsinthepathwayandthefinalimagequalityintermediateimageresultsarenotconsideredThetotalrewardisthenusedtoupdatetheindividualactionvaluesoftheactionsmakingupthepathwayThiswaytheactionsareaffectedbythefinalresultstheycreategoodorbadAnexampleoftheevolutionofactionvalueestimatesforthefirstactiontotakeonadatasetwithRFIcanbeseeninFig6AstheQlearningalgorithmexploresdifferentactionsequencesthefinalrewardvalueinfluencestheprecedingactionsvalueWithenoughiterationstosampledifferentsequencesofactionsthevaluesforeachactionconvergerevealingtheoptimalactiontotakeinthefirstdecisionForcomparisontheQlearningmethodwasappliedtothesamedatasetoncetheRFIwasremovedFigure7givesanexampleoftheactionvalueevolutioninthisstateQlearningfoundFlaggingwasnolongerarewardingactiontotakebuttoAvgFreqandcalibratedirectlyFigure6ActionvalueevolutionforadatasetwithRFIcontaminationAfterafewiterationsofupdatestotheactionvaluestheFlagactionrapidlybecomesthemostrewardingactiontotakeFigure7ActionvalueevolutionforadatasetwithoutRFIcontaminationFlagisnottheidealactiontotakebutAvgFreqandCalibrateWeappliedtheQlearningalgorithmtoeachdatasetinPopulation2Plottingeachofthesesimulationsina3DstatespacecolorizedbytheoptimalactiontotakegivesFigure8NotethatsincethesedatasetsrequiredtwoactionswhenthefirstactionwasappliedtothedatasetitchangeditsstatisticalpropertiesresultinginanewstateofthedataTheresultingstateofthedataafterthefirstactionisalsoplottedinthestatespaceresultinginmorepointsTheseareintentionallyplottedsotheoriginalregionsfromPopulation1canberecognizedTheyellowpointcloudiscomprisedofthesamedatasetsasPopulation1butFigure83DstatespaceofPopulation2colorizedbybesttheperformingactioncontaminatedwithRFIQlearninghasestimatedtheFlagactiontobetheoptimalactiontotakefirstifthiswasagreedyapproachtheactionsandthereforecolorswouldbedifferentItisimportanttohighlightthatalthoughwehaveonlyappliedQlearningtotwodecisionsherethismethodcanbeappliedtoasequenceofanylengthWhilethePopulation2datasetsprovidediscretedatapointsacrossawiderangeofvaluesinthestatespaceitwouldbebeneficialtolearnacontinuousfunctionthatprovidesanoptimalactionatanylocationinthestatespacesothatwecancreateadirectmapfromaninputdatasetscharacteristicsandtheoptimalactionTothatendwechosetwodifferentmethodstomodeltheactionregionsinthestatespaceasimpleneuralnetworkandadecisiontreeclassifierNeuralNetworksareabletomodelanycontinuousfunctiontoanarbitraryprecisionandhavebecomeastandardtoolforsuchapplicationsInshortthefundamentalbuildingblocksofafeedforwardNNcanbethoughtofasacollectionofpiecewiseelementsthatcanbecombinedtoreplicatemorecomplexfunctionsThecontributionofanyindividualbuildingblocktotheoverallfunctionisdeterminedbyaweightwhichisoptimizedthroughstandardoptimizationtechniquesWechosetotestNNfortheirabilitytohandlehighdimensionalinputsandmodelingnonlinearfunctionswhichwillbecometypicalwhenappliedtomorecomplexdecisionenvironmentsandrealdataTheinputdatawasthePopulation2datasetswithRFITheinputfeatureswerethesamefourstatisticalmeasurementsandtheidealactionwastheoutputWetrainedtheNNonasubsetofthedataandusedtheremainingunseendatasetstovalidatetheNNmodelSincethereisinherentvariabilityinNNmodelingfromtheweightinitializationandstochasticgradientdescentoneisunlikelyabletorecreateNNmodelswiththesamepredictionaccuracyTothatendwetrained10modelsfromscratchandtooktheaveragevaluemeasuring996inpredictionaccuracyasshowninFigure9AnexampleofoneofthemodelsactionpredictionsgiventhestatevectorsforallthesimulationsinPopulation2showninFigure10NNsarepowerfulatmodelingcontinuousfunctionsespeciallyascomplexitygrowsHoweverinterpretabilityofwhattheNNislearningbecomesmoredifficultWereserveapplyinganddevelopinginterpretablemethodsforfutureworkFigure910independentlyinstantiatedNNmodelswithpredictionaccuracyofeachmodelasabluedotTheredlineistheFigure10TrainedNNmodelatpredictingtheidealactionforeachdatasetinthepopulationCorrectpredictionsingreenincorrectpredictionsinredAdecisiontreeclassifierisasimpleeasytounderstandwaytofindregionsofthestatespaceassociatedwithdifferentidealactionsCruciallytheDTCcangivetheexplicitrulesbehinditsregionswhichgivesinterpretabilitytothemethodandmakesitsimpleforcheckingalignmentwithdomainexpertsWefitaDTCtotheidealactionsforPopulation2datasetstoextractthenumericalrulesforthedifferentactionregionsWhilethe3Dstatespacesonlyvisualize3axesofthedataatoncetheDTChasaccesstoalltheinputfeaturesofthedatafordecidingwheretosplitthedataFigure11showsthemodelfoundbytheDTCTheDTCmodelgivesusinterpretabilitytotheactionregionsandshowsalignmentwithdomainexpertiseIneachoftheleafnodesofthetreeweseetheuniqueactionsandtheDTCsabilitytofindnumericalboundariesthatpartitionthedataAlearnedDTCcanbeusedtoprocessanunseendatasetsimplybyusingthestatisticalpropertiesofthedatasetandfollowingthedecisiontreesworkflowforeachstepFigure11AdecisiontreeanditsrulesbasedonthestatespaceTheDTCmodelgivesusinterpretabilitytotheboundariesofthedifferentactionregionsandshowsalignmentwithdomainexpertiseIneachoftheleafnodesofthetreeweseetheuniqueactionsandtheDTCsabilitytofindnumericalboundariesthatbestpartitionsthedataSoftwareevolutionisthecontinualdevelopmentofsoftwareafteritsinitialreleasetoaddressproblemsorchangingrequirementsAstronomysoftwareandCASAinparticularisnotimmunetothisDifferentsoftwaretoolsandalgorithmsarenecessaryforhandlingdifferentusecasesobservingmodeshardwarechangestelescopedesignsandsoonInsomecasesdifferentsoftwaretoolscanbeusedtoaccomplishthesamegoalbutwithdifferingaccuraciesandefficienciesIfanewsoftwaretooliscreatedorafixismadetoanexistingonethereisapracticalneedtotryandevaluatedropinreplacementsTheRLapproachoutlinedhereestimatingactionvaluesandfindingoptimalpathwaysworksregardlessofwhetherthetoolschangeItfindstheoptimalprocessingpathwiththetoolsitisgivenThisisdemonstratedbyusingthetwodifferentautomaticflaggingalgorithmsthatexistinCASATheseautomaticflaggershavetheirrespectiveusecasesandweredesignedforassuchmeaningtheiraccuraciesandefficienciesdifferWeusedthemwiththeirdefaultparametersettingstohighlightthedifferencesbetweenthemTheRFIweaddedtothedatasetsiseasilyidentifiedandremovedbyonealgorithmandnottheotherWetestedallthecontaminateddatasetswithbothoftheRFlagandTFCropflaggingalgorithmsastheFlagactionSincetheperformanceofeachflaggingalgorithmisdifferenttheoptimalpathwaysfoundforeachdatasetaredifferentThisshouldbeofnosurpriseifthetoolsperformanceisdifferentthantheresultingdatastatesaredifferentpotentiallyleadingtodifferentactionsdownstreamThetoppanelistheTFCropalgorithmandthebottompanelistheRFlagalgorithmBothalgorithmsstartwiththesameinitialdatasetandtheresultingtimefrequencyplaneafterflaggingisappliedisshowninthemiddlecolumnYoucanseefortheTFCropalgorithmsetwithdefaultparametersthatareknowntonotberobusttobroadbandRFIthereareoutliersstillremainingafterflaggingTheseleftoverscontinuetocontaminatethedataForRFlagthealgorithmisabletocorrectlyidentifyandremovealloutliersthereforeexposingthegaindistortionsthatarepresentTherightmostcolumnshowsthe3DstatespaceofallthecontaminatedsimulationscolorizedbytheiridealactionForTFCroptheleftoveroutlierscauseddatastatestoexistthatcouldnotberectifiedbyflaggingaloneAsflaggingwouldnotimprovethedatasetanyfurtherthebestactionwastocalibratewithoutanyaveragingtogetthedatasetasclosetoidealaspossiblegiventhetoolsavailableAnexampleisshowninthenextsectionWhenthepopulationofdatasetswithRFIwasprocessedwithRFlagtheactionregionsinthestatespaceweremuchmoreapparentandorganizedThisindicatesRFlagworkingaccuratelytoremovethistypeofRFIonthefirstattemptStartingVisibilitiesVisibilitiesafterFlaggingPopulationStateSpaceRFlagFlaggingAlgorithmTFCropFlaggingAlgorithmPopulationStateSpaceVisibilitiesafterFlaggingStartingVisibilitiesFigure12ComparingperformanceoftwodifferentautomaticflaggingalgorithmsavailableinCASAThetoppanelistheTFCropalgorithmandthebottompanelistheRFlagalgorithmBothalgorithmsstartwiththesameinitialdatasetandtheresultingTimeFrequencyplaneafterflaggingisappliedisshowninthemiddlecolumnTherightcolumnshowstheresulting3DstatespaceofalldatasetscontaminatedwithRFIwhenprocessedwiththegivenalgorithmDistinctregionsinthestatespaceindicatebetterperformanceatthegiventaskLearningwhenorwhennottouseacertaintoolinasituationisthesubjectoftrainingworkshopsforendusersandtheworkofscientificdevelopersinobservatoriesRLautomatestheheuristicdiscoveryofwhattooltouseandwhenremovinghumanoverheadSecondlytheactionvaluesthemselvescanbeapowerfulmetricforinvestigatingtheperformanceofthedifferentalgorithmsandsoftwaretoolsavailableAsseeninFigure12whenRFlagwasappliedtoPopulation2itwasabletodetectandcompletelyremoveoutliersOntheotherhandwhenusingtheTFCropalgorithmthereweresomesimulationsthathadRFIcontaminationleftoversThosedatasetswithleftoversprovidedusasituationtodemonstrateQlearningsadaptabledatadrivencapabilitiesandrepeatingflaggingasnecessaryHerewehighlightonedatasetinparticularthathashighandlowamplitudeRFIcontaminationinadditiontogaindistortionsThisisaspecificexampleofTFCropflaggingthehighamplitudeRFIthatwouldaffectcalibrationsolutionsbutnotcatchingthelowamplitudeRFIwhoseeffectwouldshowuponlyaftercalibrationandstillproduceimageartifactsWedidthistotestifQlearningcouldlearntorepeatanactionifandwhenneededFigure13scolumnsshowthevisibilitiesamplitudesinthetimefrequencyplanethecorrespondingimageplaneandtheresidualsdistributionThetoprowisadatasetcontaminatedwithRFIThetimefrequencyplaneshowninthisrowshowsthemaxvaluesacrossallbaselinestoillustratetheamountofRFIpresentintotalFlaggingwiththeTFCropalgorithmisthenappliedandtheresultsareshowninthesecondrowThistimefrequencyplaneisshowingasinglebaselineonlyparticularlyonethatisstillcontaminatedwithRFIthatwasmissedbytheTFCropalgorithmatitsdefaultsettingsSincetheamplitudeoftheremainingRFIwaslowenoughthedominantfeaturefromthestatevectorwasnowthevariationsfromtheantennagainsQlearningfoundthenextbestactiontotakewastocalibrateThecalibrationcorrectlyflattenedthewavygaindistortioninthetimefrequencyplanebutthedatasetisstillplaguedbyoutliersQlearningdeterminedthenextbestactionwasnowtoflagagainbecausetheremovalofthegaindistortionschangedthestatisticalpropertiesofthedatasetallowingthelowlevelRFItobedetectedandremovedThisisacontrivedexampletoshowthedynamicdatadrivendecisionmakingabilityWithoutspecifyingQlearningwasabletolearnstaggeredflaggingactionstoremovealltheadverseaffectsThisdemonstratesthedatadrivencapabilitiesofQlearningFlaggingmultipletimeswithoutbeingexplicitlyprogrammedtodosoexhibitsflexibilitybeyondwhatacurrentpipelinecandoIncurrentoperationsthisisasituationthatrequiresahumantofixVisibilityAmplitudesResidualImagesResidualDistributionsFlaggingresultsStartingstateCalibrationresultsFlaggingresultsFigure13DemonstratingQLearningsabilitytotakeactionsbasedonthecontentsofthedataColumnsshowthevisibilitiesamplitudesinthetimefrequencyplanethecorrespondingimageplaneandtheresidualsdistributionTheprogressionfromtoptobottomisthedifferentactionsappliedtothedataThedecisiontoflagasecondtimebasedontheresultsofcalibrationisdatadrivenandnotfromprescribedinstructionCurrentlythestandardwaytoprocessdataiswithapredefinedrigidsequenceofprocessingstepsthatisdesignedfortheaverageusecaseForthecaseofALMAandVLApipelinesthesequenceandstepshavebeenslowlyshapedover10yearsofheuristicdevelopmentIncontrastReinforcementLearningmethodslearnfunctionsformappingsituationstoactionssoastomaximizeanumericalrewardsignalThesemethodsaredrivenbythedatacharacteristicsthemselvesnotsomepredefinedrecipeThebenefitsofthisapproachwouldbetoachievelargescaleautomationwhilesimultaneouslyachievingsciencereadyqualityofthedataproductsRLmethodsprovideatruedatadrivenapproachtotheseproblemswithflexibilitytoadapttotheneedsofthedataThisflexibilityprovidesanadvantagethatcanbeusedforimprovingdataqualityorincreasingresourceefficiencywithsomepotentialforachievingbothForexampleifadatasetdoesnotcontainRFIthatneedstoberemovedthennoflaggingactionistakensavingtimeandcomputingresourcesIfadatasetcontainsmultiplelevelsofRFIthesystemiscapableofdecidingwhetherornottoflagmultipletimestoachieveabetterimageThisalsohaspotentialtoreducehumanoverheadintheentireendtoendprocessingfordataTheboundariesoftheactionregionscanbethoughtofasheuristicsTraditionallyheuristicsearchissomethingthatteamsofscientistsanddevelopersspendtimeresearchingandtestingfortraditionalpipelinesThroughsimulateddataandexperimentingwithdifferentactionstheseregionsandtheirboundariesarediscoveredThismovesthetimeintensivetaskforhumanstothemachineInourtestsweshowedthedecisionregionsarenotonlyfoundbutwereclearlyseparablequantifiableinterpretableandalignedwithdomainexpertiseWedemonstratedRLiscapableofhandlingsingledecisionsandsequencesofdecisionsinanongreedywayThesequencesofdecisionscanbeexpandedtoincludeanysizedecisionchainWeintentionallychoseasimplifiedenvironmenttotestthisbutitservedasaproofofconcepttowarrantapplicationtomorecomplexdataanddecisionscenariosMeasuringhowwellagivenprocessingactiondoesonagivendatasetsgivesusinformationontheperformanceofthetoolThismeasuredquantitycangiveusfeedbackforhowwellthetoolisachievingitspurposeThiscanbeinsightfulforinvestigatingatoolsperformanceorefficiencyincertainsituationsThescopeofthisresearchwasintentionallylimitedtoasimplifiedsubsetofatypicaldatareductionworkflowandenvironmenttoprovideaproofofconceptwithunambiguousvalidationThisimpactedthecomplexityofthedatasetsthenumberoffeaturesusedtoestimatethestatetheactionsavailabletochoosefromtheamountofparametertuningforeachactionandthenumberofstepsneededtogettoanoptimalstateEachoftheseconstraintswillneedtoberelaxedaswetakethisresearchforwardtorealdataInadditionthesizeofthedatasetswaskeptsmallalongwiththenumberofactionsandstepsneededformultiplereasonsNotonlywasthisdoneforclearinterpretationbutthiskeptthecomputingrequirementstoareasonablesizeWithonlytwoactionstepsand6availableactionstochoosefromeachoftheprocessed36differentwaysWebruteforcedeverysinglepathwaytohavethegroundtruthtovalidateourresultsAswemovetowardsrealdatamoreactionchoicesandlongersequencesofstepswillbeneededtoprocessthedataAssuchbruteforcingeverypossiblepathwaywillbecomelessreasonableWewillneedtotakeadvantageofmoresophisticatedRLmethodsbeyondQlearningWithmorecomplexdataandlongerprocessingsequencesthereislikelytobemorecomplexcorrelationsinhighdimensionalspaceThelevelofinterpretabilitydemonstratedherewillbecomemorechallengingtoextractbutthisprovidesanareafordoingcuttingedgeresearchWehavebuiltthisprototypetodemonstratethebasicsofapplyingRLtothisproblemandvalidatetheresultsuponwhichtobuildmorecomplexscenariosthatsolverealworldproblemsTothatendweareexpandingthescopeoftheenvironmentaswellastheRLmethodsusedFortheenvironmentwewillincreasethenumberofinputfeaturesactionsavailableandstagesofprocessingMostnotablywillbetheinclusionoftheimagingstageThisstagewillhaveafewdifferentdeconvolutionalgorithmstopickfromWiththeinclusionoftheimagingstageandafewdefaultdeconvolutionalgorithmchoicesweanticipateRLmethodswillbeabletodemonstrateselfcalibrationfunctionalityAdditionallywewillbuildonthefoundationalRLmethodsusedheretowardsmorecomplexReinforcementLearningmethodssuchasDeepQNetworksanditsderivativeswhichcombineneuralnetworkswithQlearningIncreasingthescopeandcomplexityoftheproblemsneedingsolvingwillundoubtedlyrequireadditionalcomputingrequirementsandthereforerequirethoughtfulwaystokeeptrainingexpensesmanageableWhilethepathaheadisuncertainanddifficultwebelievetheendresultwillfaroutweighthecost